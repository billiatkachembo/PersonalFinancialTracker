import{c as $e,g as We,j as e,d as Le,f as z,P as O,e as _,i as G,p as ze,q as Ge,D as Be,v as He,a as P,X as L,t as Ve}from"./index-CsFIVyTN.js";import{r as l}from"./vendor-BgKluMRn.js";import{u as qe,a as Je,b as Ye}from"./useLanguage-C7eAUMgS.js";import{B as N}from"./button-DsPSxjjs.js";import{I as A}from"./input-BCy5uUby.js";import{L as I}from"./label-DcFav8md.js";import{e as W,h as Ke,f as Xe,g as Ze,F as Qe,u as Ue,C as es,S as X,a as Z,b as Q,c as U,d as u}from"./Index-B5rmGJgG.js";import{S as ee,a as se}from"./square-pen-B0-HT6Dx.js";import{T as te}from"./trash-2-DLaTgvkw.js";import"./Spinner-Csv4KNU-.js";const ss=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var M="Dialog",[ae,Ts]=Le(M),[ts,v]=ae(M),ne=s=>{const{__scopeDialog:t,children:a,open:o,defaultOpen:r,onOpenChange:n,modal:c=!0}=s,m=l.useRef(null),g=l.useRef(null),[y,T]=We({prop:o,defaultProp:r??!1,onChange:n,caller:M});return e.jsx(ts,{scope:t,triggerRef:m,contentRef:g,contentId:W(),titleId:W(),descriptionId:W(),open:y,onOpenChange:T,onOpenToggle:l.useCallback(()=>T(h=>!h),[T]),modal:c,children:a})};ne.displayName=M;var oe="DialogTrigger",re=l.forwardRef((s,t)=>{const{__scopeDialog:a,...o}=s,r=v(oe,a),n=z(t,r.triggerRef);return e.jsx(O.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":V(r.open),...o,ref:n,onClick:_(s.onClick,r.onOpenToggle)})});re.displayName=oe;var B="DialogPortal",[as,ie]=ae(B,{forceMount:void 0}),le=s=>{const{__scopeDialog:t,forceMount:a,children:o,container:r}=s,n=v(B,t);return e.jsx(as,{scope:t,forceMount:a,children:l.Children.map(o,c=>e.jsx(G,{present:a||n.open,children:e.jsx(ze,{asChild:!0,container:r,children:c})}))})};le.displayName=B;var F="DialogOverlay",ce=l.forwardRef((s,t)=>{const a=ie(F,s.__scopeDialog),{forceMount:o=a.forceMount,...r}=s,n=v(F,s.__scopeDialog);return n.modal?e.jsx(G,{present:o||n.open,children:e.jsx(os,{...r,ref:t})}):null});ce.displayName=F;var ns=Ge("DialogOverlay.RemoveScroll"),os=l.forwardRef((s,t)=>{const{__scopeDialog:a,...o}=s,r=v(F,a);return e.jsx(Xe,{as:ns,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(O.div,{"data-state":V(r.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),E="DialogContent",de=l.forwardRef((s,t)=>{const a=ie(E,s.__scopeDialog),{forceMount:o=a.forceMount,...r}=s,n=v(E,s.__scopeDialog);return e.jsx(G,{present:o||n.open,children:n.modal?e.jsx(rs,{...r,ref:t}):e.jsx(is,{...r,ref:t})})});de.displayName=E;var rs=l.forwardRef((s,t)=>{const a=v(E,s.__scopeDialog),o=l.useRef(null),r=z(t,a.contentRef,o);return l.useEffect(()=>{const n=o.current;if(n)return Ke(n)},[]),e.jsx(ue,{...s,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_(s.onCloseAutoFocus,n=>{var c;n.preventDefault(),(c=a.triggerRef.current)==null||c.focus()}),onPointerDownOutside:_(s.onPointerDownOutside,n=>{const c=n.detail.originalEvent,m=c.button===0&&c.ctrlKey===!0;(c.button===2||m)&&n.preventDefault()}),onFocusOutside:_(s.onFocusOutside,n=>n.preventDefault())})}),is=l.forwardRef((s,t)=>{const a=v(E,s.__scopeDialog),o=l.useRef(!1),r=l.useRef(!1);return e.jsx(ue,{...s,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var c,m;(c=s.onCloseAutoFocus)==null||c.call(s,n),n.defaultPrevented||(o.current||(m=a.triggerRef.current)==null||m.focus(),n.preventDefault()),o.current=!1,r.current=!1},onInteractOutside:n=>{var g,y;(g=s.onInteractOutside)==null||g.call(s,n),n.defaultPrevented||(o.current=!0,n.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const c=n.target;((y=a.triggerRef.current)==null?void 0:y.contains(c))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&r.current&&n.preventDefault()}})}),ue=l.forwardRef((s,t)=>{const{__scopeDialog:a,trapFocus:o,onOpenAutoFocus:r,onCloseAutoFocus:n,...c}=s,m=v(E,a),g=l.useRef(null),y=z(t,g);return Ze(),e.jsxs(e.Fragment,{children:[e.jsx(Qe,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:r,onUnmountAutoFocus:n,children:e.jsx(Be,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":V(m.open),...c,ref:y,onDismiss:()=>m.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(ls,{titleId:m.titleId}),e.jsx(ds,{contentRef:g,descriptionId:m.descriptionId})]})]})}),H="DialogTitle",me=l.forwardRef((s,t)=>{const{__scopeDialog:a,...o}=s,r=v(H,a);return e.jsx(O.h2,{id:r.titleId,...o,ref:t})});me.displayName=H;var xe="DialogDescription",he=l.forwardRef((s,t)=>{const{__scopeDialog:a,...o}=s,r=v(xe,a);return e.jsx(O.p,{id:r.descriptionId,...o,ref:t})});he.displayName=xe;var ge="DialogClose",pe=l.forwardRef((s,t)=>{const{__scopeDialog:a,...o}=s,r=v(ge,a);return e.jsx(O.button,{type:"button",...o,ref:t,onClick:_(s.onClick,()=>r.onOpenChange(!1))})});pe.displayName=ge;function V(s){return s?"open":"closed"}var fe="DialogTitleWarning",[Is,ve]=He(fe,{contentName:E,titleName:H,docsSlug:"dialog"}),ls=({titleId:s})=>{const t=ve(fe),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return l.useEffect(()=>{s&&(document.getElementById(s)||console.error(a))},[a,s]),null},cs="DialogDescriptionWarning",ds=({contentRef:s,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ve(cs).contentName}}.`;return l.useEffect(()=>{var n;const r=(n=s.current)==null?void 0:n.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(o))},[o,s,t]),null},us=ne,ms=re,xs=le,je=ce,Ne=de,ye=me,De=he,hs=pe;const gs=us,ps=ms,fs=xs,Ce=l.forwardRef(({className:s,...t},a)=>e.jsx(je,{ref:a,className:P("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));Ce.displayName=je.displayName;const be=l.forwardRef(({className:s,children:t,...a},o)=>e.jsxs(fs,{children:[e.jsx(Ce,{}),e.jsxs(Ne,{ref:o,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(hs,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));be.displayName=Ne.displayName;const we=({className:s,...t})=>e.jsx("div",{className:P("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});we.displayName="DialogHeader";const Se=l.forwardRef(({className:s,...t},a)=>e.jsx(ye,{ref:a,className:P("text-lg font-semibold leading-none tracking-tight",s),...t}));Se.displayName=ye.displayName;const vs=l.forwardRef(({className:s,...t},a)=>e.jsx(De,{ref:a,className:P("text-sm text-muted-foreground",s),...t}));vs.displayName=De.displayName;const _s=({expenses:s,income:t,onUpdateExpense:a,onUpdateIncome:o,onDeleteExpense:r,onDeleteIncome:n})=>{const{t:c}=qe(),{formatAmount:m}=Ue(),{toast:g}=Ve(),[y,T]=l.useState(new Date),[h,q]=l.useState(null),[x,S]=l.useState({}),D=y.getFullYear(),C=y.getMonth(),Re=new Date(D,C,1),Ee=new Date(D,C+1,0),Te=Re.getDay(),Ie=Ee.getDate(),_e=["January","February","March","April","May","June","July","August","September","October","November","December"],Oe=i=>{const R=`${D}-${String(C+1).padStart(2,"0")}-${String(i).padStart(2,"0")}`,p=s.filter(b=>b.date===R),j=t.filter(b=>b.date===R);return{expenses:p,income:j}},Pe=()=>{T(new Date(D,C-1))},Ae=()=>{T(new Date(D,C+1))},Fe=()=>{const i=`${D}-${String(C+1).padStart(2,"0")}`,R=s.filter(w=>w.date.startsWith(i)),p=t.filter(w=>w.date.startsWith(i)),j=R.reduce((w,d)=>w+d.amount,0),b=p.reduce((w,d)=>w+d.amount,0);return{totalExpenses:j,totalIncome:b,monthExpenses:R,monthIncome:p}},{totalExpenses:Me,totalIncome:ke}=Fe(),J=i=>{q(i),S(i)},k=()=>{q(null),S({})},Y=()=>{if(!h||!x.amount||!x.category||!x.description){g({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}const i={amount:parseFloat(x.amount.toString()),category:x.category,description:x.description,account:x.account,date:x.date};h.type==="expense"&&a?a(h.id,i):h.type==="income"&&o&&o(h.id,i),g({title:"Success",description:"Transaction updated successfully"}),k()},K=i=>{i.type==="expense"&&r?r(i.id):i.type==="income"&&n&&n(i.id),g({title:"Success",description:"Transaction deleted successfully"})},$=[];for(let i=0;i<Te;i++)$.push(null);for(let i=1;i<=Ie;i++)$.push(i);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(N,{variant:"outline",size:"icon",onClick:Pe,children:e.jsx(ss,{className:"h-4 w-4"})}),e.jsxs("h2",{className:"text-2xl font-bold",children:[_e[C]," ",D]}),e.jsx(N,{variant:"outline",size:"icon",onClick:Ae,children:e.jsx(es,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"text-sm text-muted-foreground",children:[c("income"),": ",m(ke)," | ",c("expenses"),": ",m(Me)]})})]}),e.jsx(Je,{className:"shadow-medium",children:e.jsxs(Ye,{className:"p-6",children:[e.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(i=>e.jsx("div",{className:"text-center font-medium text-muted-foreground p-2",children:i},i))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:$.map((i,R)=>{if(!i)return e.jsx("div",{className:"p-2 h-20"},R);const{expenses:p,income:j}=Oe(i),b=p.length>0||j.length>0,w=new Date().toDateString()===new Date(D,C,i).toDateString();return e.jsxs(gs,{children:[e.jsx(ps,{asChild:!0,children:e.jsxs("div",{className:`
  p-2 h-20 border rounded-lg relative cursor-pointer
  ${w?"bg-primary/10 border-primary":"border-border"}
  ${b?"hover:shadow-soft transition-shadow ring-1 ring-primary/20":""}
  `,children:[e.jsx("div",{className:"font-medium text-sm",children:i}),e.jsxs("div",{className:"absolute bottom-1 left-1 right-1 space-y-1",children:[j.length>0&&e.jsx("div",{className:"h-1 bg-income rounded-full",title:`${j.length} income entries`}),p.length>0&&e.jsx("div",{className:"h-1 bg-expense rounded-full",title:`${p.length} expense entries`})]}),b&&e.jsxs("div",{className:"absolute top-1 right-1 flex gap-1",children:[j.length>0&&e.jsx("div",{className:"w-2 h-2 bg-income rounded-full"}),p.length>0&&e.jsx("div",{className:"w-2 h-2 bg-expense rounded-full"})]})]})}),b&&e.jsxs(be,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(we,{children:e.jsxs(Se,{children:[c("transactionsFor")," ",i,"/",C+1,"/",D]})}),e.jsxs("div",{className:"space-y-4 mt-4",children:[j.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-income mb-2",children:c("income")}),e.jsx("div",{className:"space-y-2",children:j.map(d=>e.jsx("div",{className:"p-3 border border-income/20 rounded-lg bg-income/5",children:(h==null?void 0:h.id)===d.id?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Amount"}),e.jsx(A,{type:"number",step:"0.01",value:x.amount||"",onChange:f=>S({...x,amount:parseFloat(f.target.value)}),className:"h-8"})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Category"}),e.jsxs(X,{value:x.category||"",onValueChange:f=>S({...x,category:f}),children:[e.jsx(Z,{className:"h-8",children:e.jsx(Q,{})}),e.jsxs(U,{children:[e.jsx(u,{value:"Business",children:"ðŸ¢ Business"}),e.jsx(u,{value:"Investment",children:"ðŸ“ˆ Investment"}),e.jsx(u,{value:"Saving",children:"ðŸ¦ Saving"}),e.jsx(u,{value:"Gift",children:"ðŸŽ Gift"}),e.jsx(u,{value:"Allowance",children:"ðŸª™ Allowance"}),e.jsx(u,{value:"Petty Cash",children:"ðŸ’µ Petty Cash"}),e.jsx(u,{value:"Other",children:"ðŸ”– Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Description"}),e.jsx(A,{value:x.description||"",onChange:f=>S({...x,description:f.target.value}),className:"h-8"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{size:"sm",onClick:Y,className:"h-8",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Save"]}),e.jsxs(N,{size:"sm",variant:"outline",onClick:k,className:"h-8",children:[e.jsx(L,{className:"h-3 w-3 mr-1"}),"Cancel"]})]})]}):e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:d.description}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.category," ",d.account&&`â€¢ ${d.account}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold text-income",children:["+",m(d.amount)]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{size:"sm",variant:"ghost",onClick:()=>J(d),className:"h-6 w-6 p-0",children:e.jsx(se,{className:"h-3 w-3"})}),e.jsx(N,{size:"sm",variant:"ghost",onClick:()=>K(d),className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:e.jsx(te,{className:"h-3 w-3"})})]})]})]})},d.id))})]}),p.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-expense mb-2",children:c("expenses")}),e.jsx("div",{className:"space-y-2",children:p.map(d=>e.jsx("div",{className:"p-3 border border-expense/20 rounded-lg bg-expense/5",children:(h==null?void 0:h.id)===d.id?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Amount"}),e.jsx(A,{type:"number",step:"0.01",value:x.amount||"",onChange:f=>S({...x,amount:parseFloat(f.target.value)}),className:"h-8"})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Category"}),e.jsxs(X,{value:x.category||"",onValueChange:f=>S({...x,category:f}),children:[e.jsx(Z,{className:"h-8 w-48",children:e.jsx(Q,{placeholder:"Select category"})}),e.jsxs(U,{className:"grid grid-cols-2 gap-2 p-2 max-h-[280px] overflow-auto",children:[e.jsx(u,{value:"food-dining",children:"ðŸ½ï¸ Food & Dining"}),e.jsx(u,{value:"transportation",children:"ðŸš— Transportation"}),e.jsx(u,{value:"shopping",children:"ðŸ›ï¸ Shopping"}),e.jsx(u,{value:"bills-utilities",children:"ðŸ’¡ Bills & Utilities"}),e.jsx(u,{value:"healthcare",children:"ðŸ¥ Healthcare"}),e.jsx(u,{value:"entertainment",children:"ðŸŽ¬ Entertainment"}),e.jsx(u,{value:"education",children:"ðŸŽ“ Education"}),e.jsx(u,{value:"travel",children:"âœˆï¸ Travel"}),e.jsx(u,{value:"housing",children:"ðŸ  Housing"}),e.jsx(u,{value:"apparel",children:"ðŸ‘— Apparel"}),e.jsx(u,{value:"beauty",children:"ðŸ’„ Beauty"}),e.jsx(u,{value:"culture",children:"ðŸŽ­ Culture"}),e.jsx(u,{value:"loan",children:"ðŸ’° Loan"}),e.jsx(u,{value:"other",children:"ðŸ”– Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xs",children:"Description"}),e.jsx(A,{value:x.description||"",onChange:f=>S({...x,description:f.target.value}),className:"h-8"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(N,{size:"sm",onClick:Y,className:"h-8",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Save"]}),e.jsxs(N,{size:"sm",variant:"outline",onClick:k,className:"h-8",children:[e.jsx(L,{className:"h-3 w-3 mr-1"}),"Cancel"]})]})]}):e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium",children:d.description}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.category," ",d.account&&`â€¢ ${d.account}`]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold text-expense",children:["-",m(d.amount)]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(N,{size:"sm",variant:"ghost",onClick:()=>J(d),className:"h-6 w-6 p-0",children:e.jsx(se,{className:"h-3 w-3"})}),e.jsx(N,{size:"sm",variant:"ghost",onClick:()=>K(d),className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:e.jsx(te,{className:"h-3 w-3"})})]})]})]})},d.id))})]})]})]})]},i)})})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-1 bg-income rounded-full"}),e.jsx("span",{children:c("income")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-1 bg-expense rounded-full"}),e.jsx("span",{children:c("expenses")})]}),e.jsx("p",{className:"text-xs",children:c("clickDateToView")})]})]})};export{_s as FinancialCalendar};
